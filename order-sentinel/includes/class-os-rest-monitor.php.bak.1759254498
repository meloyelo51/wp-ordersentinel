<?php
defined('ABSPATH') || exit;

class OS_REST_Monitor {

    public static public static function admin_menu() {
        $cb = [ __CLASS__, 'render_page' ];
        $title = 'REST Monitor';

        if ( class_exists( 'WooCommerce' ) ) {
            $cap = current_user_can( 'manage_woocommerce' ) ? 'manage_woocommerce' : 'manage_options';
            add_submenu_page(
                'woocommerce',
                $title,
                $title,
                $cap,
                'ordersentinel-rest',
                $cb
            );
            return;
        }

        // Fallback: Tools → REST Monitor
        add_management_page(
            $title,
            $title,
            'manage_options',
            'ordersentinel-rest',
            $cb
        );
    }

    public static function admin_menu() {
        $cb = [ __CLASS__, 'render_page' ];
        $title = 'REST Monitor';

        if ( class_exists( 'WooCommerce' ) ) {
            $cap = current_user_can( 'manage_woocommerce' ) ? 'manage_woocommerce' : 'manage_options';
            add_submenu_page(
                'woocommerce',
                $title,
                $title,
                $cap,
                'ordersentinel-rest',
                $cb
            );
            return;
        }

        // Fallback: Tools → REST Monitor
        add_management_page(
            $title,
            $title,
            'manage_options',
            'ordersentinel-rest',
            $cb
        );
    }

// auto-fix: closing braces added
}
